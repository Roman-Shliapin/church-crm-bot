# üîß –í–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º –∑ MongoDB

## ‚ùå –ü–æ–º–∏–ª–∫–∞: SSL routines:ssl3_read_bytes:tlsv1 alert internal error

–¶—è –ø–æ–º–∏–ª–∫–∞ –≤–∏–Ω–∏–∫–∞—î –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö –∑ SSL/TLS –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è–º –¥–æ MongoDB Atlas.

### üîç –ú–æ–∂–ª–∏–≤—ñ –ø—Ä–∏—á–∏–Ω–∏ —Ç–∞ —Ä—ñ—à–µ–Ω–Ω—è:

#### 1. Network Access (–ù–∞–π—á–∞—Å—Ç—ñ—à–∞ –ø—Ä–∏—á–∏–Ω–∞)

**–ü—Ä–æ–±–ª–µ–º–∞:** IP –∞–¥—Ä–µ—Å–∞ –≤–∞—à–æ–≥–æ —Ö–æ—Å—Ç–∏–Ω–≥—É (Render) –Ω–µ –¥–æ–¥–∞–Ω–∞ –¥–æ —Å–ø–∏—Å–∫—É –¥–æ–∑–≤–æ–ª–µ–Ω–∏—Ö –≤ MongoDB Atlas.

**–†—ñ—à–µ–Ω–Ω—è:**

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ MongoDB Atlas ‚Üí **Network Access**
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Add IP Address"**
3. –î–ª—è Render –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ–≥–æ tier –¥–æ–¥–∞–π—Ç–µ:
   - **"Allow Access from Anywhere"** (0.0.0.0/0)
   - –ê–ë–û –¥–æ–¥–∞–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π IP –∞–¥—Ä–µ—Å Render (–∑–Ω–∞–π–¥–µ—Ç–µ –≤ Render Dashboard ‚Üí –≤–∞—à —Å–µ—Ä–≤—ñ—Å ‚Üí Settings ‚Üí IP Address)

‚ö†Ô∏è **–ë–µ–∑–ø–µ–∫–∞:** –î–ª—è production –æ–±–µ—Ä—ñ—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ IP –∞–¥—Ä–µ—Å–∏, –∞ –Ω–µ 0.0.0.0/0

#### 2. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π Connection String

**–ü—Ä–æ–±–ª–µ–º–∞:** Connection string –º–æ–∂–µ –±—É—Ç–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–º –∞–±–æ –º–∞—Ç–∏ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ —Å–∏–º–≤–æ–ª–∏ –≤ –ø–∞—Ä–æ–ª—ñ.

**–†—ñ—à–µ–Ω–Ω—è:**

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ connection string –≤ MongoDB Atlas:
   - Database ‚Üí Connect ‚Üí Connect your application
   - –°–∫–æ–ø—ñ—é–π—Ç–µ connection string
   - –ó–∞–º—ñ–Ω—ñ—Ç—å `<password>` –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω–∏–π –ø–∞—Ä–æ–ª—å

2. –Ø–∫—â–æ –ø–∞—Ä–æ–ª—å –º—ñ—Å—Ç–∏—Ç—å —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ —Å–∏–º–≤–æ–ª–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `@`, `#`, `%`), —ó—Ö –ø–æ—Ç—Ä—ñ–±–Ω–æ URL-encode:
   - `@` ‚Üí `%40`
   - `#` ‚Üí `%23`
   - `%` ‚Üí `%25`
   - `&` ‚Üí `%26`
   - —ñ —Ç.–¥.

   –ê–±–æ –∫—Ä–∞—â–µ: —Å—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –ø–∞—Ä–æ–ª—å –±–µ–∑ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏—Ö —Å–∏–º–≤–æ–ª—ñ–≤.

#### 3. –í–µ—Ä—Å—ñ—è MongoDB –¥—Ä–∞–π–≤–µ—Ä–∞

**–†—ñ—à–µ–Ω–Ω—è:**

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—É –≤–µ—Ä—Å—ñ—é:

```bash
npm install mongodb@latest
```

#### 4. –ü—Ä–æ–±–ª–µ–º–∏ –∑ Node.js –Ω–∞ Render

**–†—ñ—à–µ–Ω–Ω—è:**

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤–µ—Ä—Å—ñ—é Node.js –Ω–∞ Render:
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ Render Dashboard ‚Üí –≤–∞—à —Å–µ—Ä–≤—ñ—Å ‚Üí Settings
   - –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è Node.js –≤–µ—Ä—Å—ñ—è 18.x –∞–±–æ –Ω–æ–≤—ñ—à–∞

2. –î–æ–¥–∞–π—Ç–µ `.nvmrc` —Ñ–∞–π–ª –≤ –∫–æ—Ä—ñ–Ω—å –ø—Ä–æ–µ–∫—Ç—É:

```bash
echo "18" > .nvmrc
```

–ê–±–æ –¥–ª—è –≤–µ—Ä—Å—ñ—ó 20:

```bash
echo "20" > .nvmrc
```

#### 5. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Connection String —Ñ–æ—Ä–º–∞—Ç—É

**–ü—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç:**

```
mongodb+srv://username:password@cluster0.xxxxx.mongodb.net/database-name?retryWrites=true&w=majority
```

**–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ:**
- ‚úÖ –Ñ `mongodb+srv://` –Ω–∞ –ø–æ—á–∞—Ç–∫—É
- ‚úÖ Username —Ç–∞ password –ø—Ä–∞–≤–∏–ª—å–Ω—ñ
- ‚úÖ –ù–∞–∑–≤–∞ –∫–ª–∞—Å—Ç–µ—Ä–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞
- ‚úÖ –Ñ –Ω–∞–∑–≤–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –ø—ñ—Å–ª—è `.net/`

#### 6. –¢–∏–º—á–∞—Å–æ–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏ MongoDB Atlas

**–†—ñ—à–µ–Ω–Ω—è:**

1. –ó–∞—á–µ–∫–∞–π—Ç–µ –∫—ñ–ª—å–∫–∞ —Ö–≤–∏–ª–∏–Ω
2. –°–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ –±–æ—Ç–∞
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç–∞—Ç—É—Å MongoDB Atlas: https://status.mongodb.com/

### üîß –î–æ–¥–∞—Ç–∫–æ–≤—ñ –∫—Ä–æ–∫–∏ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:

#### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –ª–æ–∫–∞–ª—å–Ω–æ:

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ç–µ—Å—Ç–æ–≤–∏–π —Ñ–∞–π–ª `test-connection.js`:

```javascript
import { MongoClient } from "mongodb";
import dotenv from "dotenv";

dotenv.config();

const uri = process.env.MONGODB_URI;

async function testConnection() {
  try {
    const client = new MongoClient(uri);
    await client.connect();
    console.log("‚úÖ –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —É—Å–ø—ñ—à–Ω–µ!");
    await client.close();
  } catch (error) {
    console.error("‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è:", error.message);
  }
}

testConnection();
```

–ó–∞–ø—É—Å—Ç—ñ—Ç—å:
```bash
node test-connection.js
```

#### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤ MongoDB Atlas:

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ MongoDB Atlas
2. Database ‚Üí –≤–∞—à –∫–ª–∞—Å—Ç–µ—Ä ‚Üí "Browse Collections"
3. –Ø–∫—â–æ –Ω–µ –º–æ–∂–µ—Ç–µ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è —á–µ—Ä–µ–∑ UI - –ø—Ä–æ–±–ª–µ–º–∞ –≤ Network Access

### ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–æ—á–Ω–∏–π —Å–ø–∏—Å–æ–∫:

- [ ] IP –∞–¥—Ä–µ—Å–∞ –¥–æ–¥–∞–Ω–∞ –¥–æ Network Access –≤ MongoDB Atlas
- [ ] Connection string –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π (–ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –∑ MongoDB Atlas)
- [ ] –ü–∞—Ä–æ–ª—å –Ω–µ –º—ñ—Å—Ç–∏—Ç—å —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏—Ö —Å–∏–º–≤–æ–ª—ñ–≤ –∞–±–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–∫–æ–¥–æ–≤–∞–Ω–∏–π
- [ ] MongoDB –¥—Ä–∞–π–≤–µ—Ä –æ–Ω–æ–≤–ª–µ–Ω–∏–π –¥–æ –æ—Å—Ç–∞–Ω–Ω—å–æ—ó –≤–µ—Ä—Å—ñ—ó
- [ ] Node.js –≤–µ—Ä—Å—ñ—è –Ω–∞ Render –∞–∫—Ç—É–∞–ª—å–Ω–∞ (18+)
- [ ] Connection string –º–∞—î –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –∑ `mongodb+srv://`
- [ ] –ù–∞–∑–≤–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –≤–∫–∞–∑–∞–Ω–∞ –≤ connection string

### üÜò –Ø–∫—â–æ –Ω—ñ—á–æ–≥–æ –Ω–µ –¥–æ–ø–æ–º–∞–≥–∞—î:

1. **–°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö:**
   - MongoDB Atlas ‚Üí Database Access ‚Üí Add New Database User
   - –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ –Ω–æ–≤–∏–º –ø–∞—Ä–æ–ª–µ–º
   - –û–Ω–æ–≤—ñ—Ç—å connection string

2. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ Render:**
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ Render Dashboard ‚Üí –≤–∞—à —Å–µ—Ä–≤—ñ—Å ‚Üí Logs
   - –ó–Ω–∞–π–¥—ñ—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –ø–æ–º–∏–ª–∫—É

3. **–ó–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏:**
   - MongoDB Atlas: https://support.mongodb.com/
   - Render: https://render.com/docs/support

---

**–ù–∞–π—á–∞—Å—Ç—ñ—à–µ –ø—Ä–æ–±–ª–µ–º–∞ –≤ Network Access!** –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å–ø–æ—á–∞—Ç–∫—É —Ü–µ! üîí

