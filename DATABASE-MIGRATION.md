# üóÑÔ∏è –ú—ñ–≥—Ä–∞—Ü—ñ—è –Ω–∞ –±–∞–∑—É –¥–∞–Ω–∏—Ö

## –ß–æ–º—É –ø–æ—Ç—Ä—ñ–±–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö?

–ù–∞ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏—Ö —Ö–æ—Å—Ç–∏–Ω–≥–∞—Ö (Heroku, Render, Railway) —Ñ–∞–π–ª–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞ –æ—á–∏—â–∞—î—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É. JSON —Ñ–∞–π–ª–∏ –≤—Ç—Ä–∞—á–∞—é—Ç—å—Å—è. –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –∑–±–µ—Ä—ñ–≥–∞—î –¥–∞–Ω—ñ –ø–æ—Å—Ç—ñ–π–Ω–æ.

## –í–∞—Ä—ñ–∞–Ω—Ç–∏ –±–∞–∑ –¥–∞–Ω–∏—Ö

### ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ: MongoDB Atlas (–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π)

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- üÜì –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π tier (512 MB)
- ‚òÅÔ∏è –•–º–∞—Ä–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö (–Ω–µ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Ö–æ—Å—Ç–∏–Ω–≥—É)
- üîå –ü—Ä–æ—Å—Ç–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
- üìö –î–æ–±—Ä–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è JSON-–ø–æ–¥—ñ–±–Ω–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä

**–Ø–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏:**
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ [mongodb.com/cloud/atlas](https://www.mongodb.com/cloud/atlas)
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –∞–∫–∞—É–Ω—Ç
3. –°—Ç–≤–æ—Ä—ñ—Ç—å –∫–ª–∞—Å—Ç–µ—Ä (–≤–∏–±–µ—Ä—ñ—Ç—å FREE tier)
4. –û—Ç—Ä–∏–º–∞–π—Ç–µ connection string

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏:

**PostgreSQL (Railway/Render)**
- –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π tier –¥–æ—Å—Ç—É–ø–Ω–∏–π
- –ü–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å
- –¢—Ä–æ—Ö–∏ —Å–∫–ª–∞–¥–Ω—ñ—à–µ –¥–ª—è –ø–æ—á–∞—Ç–∫—É

**SQLite + —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è**
- –ü—Ä–æ—Å—Ç—ñ—à–µ –ª–æ–∫–∞–ª—å–Ω–æ
- –°–∫–ª–∞–¥–Ω—ñ—à–µ –¥–ª—è —Ö–æ—Å—Ç–∏–Ω–≥—É

## ‚úÖ –ú—ñ–≥—Ä–∞—Ü—ñ—è –≤–∏–∫–æ–Ω–∞–Ω–∞!

–í—Å—ñ –∑–º—ñ–Ω–∏ –≤–∂–µ –≤–Ω–µ—Å–µ–Ω—ñ –¥–æ –∫–æ–¥—É:

1. ‚úÖ **–°—Ç–≤–æ—Ä–µ–Ω–æ `services/database.js`** - –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ MongoDB
2. ‚úÖ **–ü–µ—Ä–µ–ø–∏—Å–∞–Ω–æ `services/storage.js`** - —Ç–µ–ø–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î MongoDB –∑–∞–º—ñ—Å—Ç—å JSON —Ñ–∞–π–ª—ñ–≤
3. ‚úÖ **–û–Ω–æ–≤–ª–µ–Ω–æ –≤—Å—ñ handlers** - –¥–æ–¥–∞–Ω–æ async/await –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –ë–î
4. ‚úÖ **–û–Ω–æ–≤–ª–µ–Ω–æ `bot.js`** - –¥–æ–¥–∞–Ω–æ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ MongoDB –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ
5. ‚úÖ **–î–æ–¥–∞–Ω–æ `mongodb` –¥–æ `package.json`**

## üìã –©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑—Ä–æ–±–∏—Ç–∏ –≤–∞–º:

1. **–ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ MongoDB Atlas** (–¥–∏–≤. `MONGODB-SETUP.md`)
2. **–î–æ–¥–∞—Ç–∏ MONGODB_URI –¥–æ .env —Ñ–∞–π–ª—É:**
   ```
   MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/church-crm?retryWrites=true&w=majority
   ```
3. **–í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:**
   ```bash
   npm install
   ```

–ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥–∫–ª—é—á–∏—Ç—å—Å—è –¥–æ MongoDB —ñ –ø–æ—á–Ω–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –¥–∞–Ω—ñ –≤ —Ö–º–∞—Ä—ñ!

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∏—Ö

–î–∞–Ω—ñ –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è —Ç–∞–∫–∏–º–∏ –∂, —Ç—ñ–ª—å–∫–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ MongoDB –∑–∞–º—ñ—Å—Ç—å JSON —Ñ–∞–π–ª—ñ–≤:

```javascript
// members collection
{
  _id: ObjectId,
  id: 123456789,           // Telegram ID
  name: "–Ü–º'—è –ü—Ä—ñ–∑–≤–∏—â–µ",
  baptism: "01-01-2020",
  birthday: "15-03-1990",
  phone: "+380..."
}

// needs collection
{
  _id: ObjectId,
  id: 1766848942156,
  userId: 123456789,
  name: "–Ü–º'—è",
  // ... —ñ–Ω—à—ñ –ø–æ–ª—è
}
```

## –ü–µ—Ä–µ–≤–∞–≥–∏ –ø—ñ—Å–ª—è –º—ñ–≥—Ä–∞—Ü—ñ—ó

‚úÖ –î–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ø–æ—Å—Ç—ñ–π–Ω–æ  
‚úÖ –ù–µ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Ñ–∞–π–ª–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏ —Ö–æ—Å—Ç–∏–Ω–≥—É  
‚úÖ –ú–æ–∂–Ω–∞ –ª–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±—É–≤–∞—Ç–∏  
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Ä–µ–∑–µ—Ä–≤–Ω—ñ –∫–æ–ø—ñ—ó (—É MongoDB Atlas)  
‚úÖ –®–≤–∏–¥—à—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –ø–æ—à—É–∫—É  

