# Структура проєкту

Проєкт рефакторено для покращення читабельності та підтримуваності коду.

## Структура папок

```
church-crm-bot/
├── bot.js                 # Головний файл - точка входу, ініціалізація бота
├── config/
│   └── constants.js       # Константи та конфігурація (ADMIN_IDS, повідомлення, статуси)
├── handlers/              # Обробники команд та дій
│   ├── commands.js       # /start, /help
│   ├── register.js       # /register (реєстрація членів)
│   ├── members.js        # /me, /members (профіль та список)
│   └── needs.js          # /need (заявки на допомогу)
├── services/              # Бізнес-логіка та робота з даними
│   ├── storage.js        # Робота з JSON файлами (members.json, needs.json)
│   ├── excel.js          # Генерація Excel файлів
│   └── statusUpdater.js  # Автоматичне оновлення статусів заявок
├── middlewares/           # Middleware для бота
│   └── admin.js          # Перевірка прав адміністратора
└── utils/                 # Допоміжні функції
    └── helpers.js        # Форматування повідомлень та створення об'єктів
```

## Як запустити

1. Створіть файл `.env` в корені проєкту:
   ```
   BOT_TOKEN=your_bot_token_here
   ```

2. Запустіть бота:
   ```bash
   npm start
   ```
   або
   ```bash
   node bot.js
   ```

## Переваги нової структури

- ✅ **Модульність** - кожен файл відповідає за свою область
- ✅ **Читабельність** - легше знайти потрібний код
- ✅ **Підтримуваність** - зміни в одному модулі не впливають на інші
- ✅ **Тестування** - функції легко тестувати окремо
- ✅ **Масштабованість** - легко додавати нові функції

## Додавання нових функцій

Для додавання нової команди:
1. Створіть обробник в `handlers/`
2. Імпортуйте та зареєструйте в `bot.js`

Для додавання нового сервісу:
1. Створіть файл в `services/`
2. Використовуйте в обробниках

